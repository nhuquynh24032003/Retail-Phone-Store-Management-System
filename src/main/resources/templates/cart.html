<!doctype html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0, user-scalable=0" name="viewport"/>
    <meta content="ie=edge" http-equiv="x-ua-compatible"/>
    <title>Your cart</title>

    <style>
        :root {
            --bgheader: #1877f2;
            --color_header: #ffffff;
            --color_menu: #000000;
            --bgshop: #000000;
            --bg_button: #1877f2;
            --color_button: #ffffff;
            --colorshop: #000000;
            --colorshophover: #288ad6;
            --bgfooter: #202020;
            --colorfooter: #ffffff;
            --colorbgmenumb: #111111;
            --colortextmenumb: #ffffff;
            --bgflashsale: #1877f2;
            --bg_button_add_to_cart: #e90707;
            --bgprefooter: #202020;
            --height-head: 60px;
            --imgselect: url(https://file.hstatic.net/200000525917/file/ico-select_c577a364ec074c9b9cd07a446e6a1a2c.svg);
            --imgsort: url(https://file.hstatic.net/200000525917/file/sort-az_ce83a7d22f214b68bc6aa586b6ac3d34.svg);
            --bg-filter: url("https://file.hstatic.net/200000525917/file/filter_415f49821dc841d3add47c3d0abed6b8.svg");
            --typeimageproduct: contain;
            --bgsubcribe: url("https://file.hstatic.net/200000713019/file/one-14-pro-166184670586013738040_199db9dbd4654e5d9fe60557f046fc41.webp");
            --iframe_1: url("https://file.hstatic.net/200000525917/file/frame-1_d8cc58cf506b4f519c2fa6967fcf6dfa.png");
            --iframe_2: url("https://file.hstatic.net/200000525917/file/frame-1_d8cc58cf506b4f519c2fa6967fcf6dfa.png");
            --nav-height: 344px;
            --col-menu: 3;
        }
    </style>
    <link
            as="style"
            href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=fallback"
            rel="preload stylesheet" type="text/css"/>
    <link as="style" href="//theme.hstatic.net/200000713019/1001049223/14/plugin-style.css?v=1496"
          rel="preload stylesheet" type="text/css"/>
    <link as="style" href="//theme.hstatic.net/200000713019/1001049223/14/styles-new.scss.css?v=1496"
          rel="preload stylesheet" type="text/css"/>
    <link as="style" href="//theme.hstatic.net/200000713019/1001049223/14/style-cart.scss.css?v=1496"
          rel="preload stylesheet" type="text/css"/>
    <link as="script"
          href="https://file.hstatic.net/200000525917/file/jquery-script_a06dbb9a942a4a2c8e459410c8a19bc1.js"
          rel="preload prefetch" type="text/javascript"/>
    <script src="https://file.hstatic.net/200000525917/file/jquery-script_a06dbb9a942a4a2c8e459410c8a19bc1.js"
            type="text/javascript"></script>
    <!-- Tất cả biến khởi tạo, check sử dụng-->
    <script>
        var _0x4ad6 = [
            "\x43\x68\x72\x6F\x6D\x65",
            "\x69\x6E\x64\x65\x78\x4F\x66",
            "\x75\x73\x65\x72\x41\x67\x65\x6E\x74",
            "\x6C\x65\x6E\x67\x74\x68",
            "\x62\x72\x61\x6E\x64\x73",
            "\x75\x73\x65\x72\x41\x67\x65\x6E\x74\x44\x61\x74\x61",
            "\x62\x72\x61\x6E\x64",
            "\x4C\x69\x67\x68\x74\x68\x6F\x75\x73\x65",
            "\x69\x6E\x63\x6C\x75\x64\x65\x73",
        ];
        let checklh = false;
        if (navigator[_0x4ad6[2]][_0x4ad6[1]](_0x4ad6[0]) != -1) {
            for (
                let i = 0;
                i < navigator[_0x4ad6[5]][_0x4ad6[4]][_0x4ad6[3]];
                i++
            ) {
                let vl = navigator[_0x4ad6[5]][_0x4ad6[4]][i][_0x4ad6[6]];
                if (vl[_0x4ad6[8]](_0x4ad6[7])) {
                    checklh = true;
                    break;
                }
            }
        }
        window.wd = {
            template: "cart",
            formatmoney: "{{amount}}₫",
            plugin: [
                "//theme.hstatic.net/200000713019/1001049223/14/plugin-script.js?v=1496",
                "https://cdnjs.cloudflare.com/ajax/libs/jquery-toast-plugin/1.3.2/jquery.toast.min.js",
            ],
            navLeftText:
                '<button type="button" class="slick-prev slick-arrow custom-style" aria-label="Previous"><span class="arrow-custom arrow-left"><div class="arrow-top"></div><div class="arrow-bottom"></div></span></button>',
            navRightText:
                '<button type="button" class="slick-next slick-arrow custom-style" aria-label="Next"><span class="arrow-custom arrow-right"><div class="arrow-top"></div><div class="arrow-bottom"></div></span></button>',
            recaptchajs:
                "https://www.google.com/recaptcha/api.js?render=6LdD18MUAAAAAHqKl3Avv8W-tREL6LangePxQLM-",
            getScriptCcd: (url, callback) => {
                $.ajax({
                    type: "GET",
                    url: url,
                    success: callback,
                    dataType: "script",
                    cache: true,
                });
            },
            getdatasite: (
                url,
                selector,
                slider,
                callbackreview,
                callbackcustom
            ) => {
                $.ajax({
                    type: "GET",
                    url: url,
                    success: function (data) {
                        selector.html(data);
                    },
                }).done(() => {
                    if (slider == "true") {
                        selector.addClass("slick-callback");
                        window.wd.scofield.slidercallback();
                    }
                    callbackreview == "true" ? window.wd.reviewloopinit() : "";
                    if (typeof callbackcustom == "function") callbackcustom();
                });
            },
            stylerender: [
                "//theme.hstatic.net/200000713019/1001049223/14/render-style.css?v=1496",
                "//theme.hstatic.net/200000713019/1001049223/14/render-style-other.scss.css?v=1496",
            ],
            handle_product: "",
            windowsize: window.outerWidth,
            modalsubcribe: {check: true, time_show: 6000},
            sgnotify: "true",
            productjson: {error: "json not allowed for this object"},
            jsonmap:
                "https://file.hstatic.net/200000397757/file/hethongcuahang_f1ee212eddc04706b09d43518b50a964.json",
            recaptchacallback: () => {
                setTimeout(() => {
                    if ($("input[name='g-recaptcha-response']").length > 0) {
                        $("input[name='g-recaptcha-response']").each(function () {
                            let a = $(this);
                            grecaptcha.ready(function () {
                                grecaptcha
                                    .execute("6LdD18MUAAAAAHqKl3Avv8W-tREL6LangePxQLM-", {
                                        action: "submit",
                                    })
                                    .then(function (b) {
                                        a.val(b);
                                    });
                            });
                        });
                    }
                }, 1e3);
            },
            placeholderText: ["Iphone", "Sam Sung", "Xiaomi", "Thay pin iphone"],
            use_countdown: true,
            type_countdown: "everyday",
            countdown: "Sep 10, 2022 23:59:59",
            type_sold: "random",
            list_col_pro: [],
            max_stock: 40,
            min_stock: 10,
            collection: {
                template: "two",
                url: "",
                currentpage: "",
                totalpage: "",
                collectioncount: "",
                limit: "30",
                id: "",
                typepaginate: "click_loadmore",
                sortbydefault: "",
            },
            appdefault: "appcombo",
            typerelated: "collection",
            checklocation: "true",
            checkproductrelated: "true",
            checkproductseen: "true",
            vendorurl: "/collections/vendors?q=&view=related-product",
            typeurl: "/collections/types?q=&view=related-product",
            collectionurl: "/collections/?view=related-product",
            recommendurl: "/products/?view=recommend",
            reviewtype: "bigpen_review",
            reviewloopinit: () => {
                if (typeof ProductReviews == "object") {
                    $(".review-loop .hrv-product-reviews-star").raty({
                        starType: "i",
                        number: function () {
                            return jQuery(this).attr("data-number");
                        },
                        score: function () {
                            return jQuery(this).attr("data-score");
                        },
                        readOnly: !0,
                    });
                    $(".review-loop .hrv-product-reviews-star i").css(
                        "color",
                        "#ECBA55"
                    );
                }
            },
        };
        if (
            navigator[_0x2c0xa[2]][_0x2c0xa[1]](_0x2c0xa[0]) == -1 &&
            checklh == false
        ) {
            for (let i = 0; i < window.wd.stylerender.length; i++) {
                const css = document.createElement("link");
                css.setAttribute("type", "text/css");
                css.setAttribute("rel", "stylesheet");
                css.setAttribute("href", window.wd.stylerender[i]);
                document.getElementsByTagName("head")[0].appendChild(css);
            }
            for (let i = 0; i < window.wd.plugin.length; i++) {
                const plugin = document.createElement("script");
                plugin.setAttribute("type", "text/javascript");
                plugin.setAttribute("src", window.wd.plugin[i]);
                document.getElementsByTagName("head")[0].appendChild(plugin);
            }
            $(window).load(() => {
                setTimeout(() => {
                    window.wd.getScriptCcd(
                        window.wd.recaptchajs,
                        window.wd.recaptchacallback()
                    );
                }, 1000);
            });
        }
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function (event) {
            let jsquery = document.querySelectorAll("script[data-src]");
            if (
                navigator[_0x2c0xa[2]][_0x2c0xa[1]](_0x2c0xa[0]) == -1 &&
                jsquery.length > 0 &&
                checklh == false
            ) {
                for (let i = 0; i < jsquery.length; i++) {
                    let src_ = jsquery[i].getAttribute("data-src");
                    jsquery[i].setAttribute("src", src_);
                }
            }
        });
    </script>
    <script>
        function getcss(filename) {
            jQuery("head").append(
                `<link href='${getcdn(
                    filename
                )}' rel='stylesheet' type='text/css'  media='all'  />`
            );
        }

        var getcdn = function (filename) {
            var url = "https://theme.hstatic.net/1000271639/1000347388/14/",
                version = Math.floor(Math.random() * 999999999 + 999999);
            sessionStorage.version != undefined
                ? (version = sessionStorage.version)
                : (sessionStorage.version = version);
            return url + filename + "?v=" + version;
        };
    </script>
    <script>
        if (
            !navigator.userAgent.includes("Chrome-Lighthouse") &&
            checklh == false
        ) {
            (function () {
                function asyncLoad() {
                    var urls = [
                        "",
                        "https://app.hstatic.net/socialloginplus/200000713019/script-tag.js?v=1687509496081",
                    ];
                    for (var i = 0; i < urls.length; i++) {
                        var s = document.createElement("script");
                        s.type = "text/javascript";
                        s.async = true;
                        s.src = urls[i];
                        var x = document.getElementsByTagName("script")[0];
                        x.parentNode.insertBefore(s, x);
                    }
                }

                window.attachEvent
                    ? window.attachEvent("onload", asyncLoad)
                    : window.addEventListener("load", asyncLoad, false);
            })();
        }
    </script>
</head>

<body class="template-cart position-cart-loop-right" data-template="cart" id="wd-shoes-scofiled">

<!-- Header Section Begin -->
<th:block th:replace="~{fragments/header :: header}"></th:block>
<!-- Header Section End -->

<main>
    <div class="breadcrumb-shop">
        <div class="container">
            <ol class="breadcrumb breadcrumb-arrows">
                <li itemprop="itemListElement">
                    <a href="/" itemprop="item" target="_self"><span itemprop="name">Trang chủ</span></a>
                </li>

                <li class="active">
                    <span content="https://wd-smart.myharavan.com/cart" itemprop="item"><span
                            itemprop="name">Giỏ hàng</span></span>
                </li>
            </ol>
        </div>
    </div>
    <section class="cart-page" id="cart-template">
        <div class="container">
            <form action="/cart" enctype="multipart/form-data" method="post">
                <div class="d-flex row-left-list">
                    <div class="col-xs-12 col-lg-9 col-md-8 col-sm-7 mg-top-15 pd-right-0">
                        <div class="bg-while">
                            <div class="cart-title">
                                <h2>Giỏ hàng:</h2>
                                <span class="cart-count">
                                        <span class="cart-counter">0</span>
                                        <span class="cart-item-title">Sản phẩm</span>
                                    </span>
                            </div>
                            <div class="item-wrap" id="cart-page-result">
                                <p class="no-item-cart" th:if="${session?.cart}">
                                    Giỏ hàng của bạn đang trống. Mời bạn mua thêm sản phẩm
                                    <a href="/">tại đây.</a>
                                </p>
                                <th:block th:each="cartItem : ${session?.cart}">
                                    <ul class="cart-wrap">
                                        <li class="item-info">
                                            <div class="item-img">
                                                <a><img th:src="${cartItem.value.img}"></a>
                                            </div>
                                            <div class="item-title">
                                                <a th:text="${cartItem.value.name}"></a>
                                                <div class="d-flex group-item-option">
                                                    <span class="item-option">
                                                        <span>
                                                            <span th:text="${cartItem.value.color.name}"></span> /
                                                            <span th:text="${cartItem.value.capacity.sizeInGB} + ' GB'"></span> /
                                                            Chính hãng VNA
                                                        </span>
                                                    </span>
                                                    <span class="item-option">
                                                        <span class="item-price">
                                                            <span class="money"
                                                                  th:text="${#numbers.formatDecimal(cartItem.value.price, 1, 0) + ' VND'}"></span>

                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </li>
                                        <li class="item-qty">
                                            <div class="quantity-area">
                                                <input class="quantity-selector quantity-mini" min="1"
                                                       th:value="${cartItem.value.quantity}"
                                                       th:data-product-id="${cartItem.value.phoneId}"
                                                       th:data-color-id="${cartItem.value.color.id}"
                                                       th:data-capacity-id="${cartItem.value.capacity.id}"
                                                       type="number" onchange="handleUpdateQuantity(this)">
                                            </div>
                                            <div class="item-remove">
                                                <span class="remove-wrap">
                                                   <a href="javascript:void(0)" onclick="handleRemoveCartItem(this)"
                                                      th:data-product-id="${cartItem.value.phoneId}"
                                                      th:data-color-id="${cartItem.value.color.id}"
                                                      th:data-capacity-id="${cartItem.value.capacity.id}">Xóa</a>
                                                </span>
                                            </div>
                                        </li>
                                        <li class="item-price">
                                            <span class="amount full-price">
                                                <span class="money" th:text="${#numbers.formatDecimal(cartItem.value.totalPrice, 1, 0) + ' VND'}"></span>
                                            </span>
                                        </li>
                                    </ul>
                                </th:block>

                            </div>
                        </div>
                        <!--                        <div class="side-section d-none-button-mb" id="product-sider-seen">-->
                        <!--                            <div class="bg-while mg-top-15">-->
                        <!--                                <div class="wd-top-title">-->
                        <!--                                    <h2 class="title-section bd-left">-->
                        <!--                                        <span>Sản phẩm đã xem</span>-->
                        <!--                                    </h2>-->
                        <!--                                </div>-->
                        <!--                                <div class="special-product d-flex-slick mg-left&#45;&#45;15" data-autoplay="false"-->
                        <!--                                     data-custom-arrows="true" data-dots="true" data-infinite="false" data-md="4" data-slides-md="4"-->
                        <!--                                     data-slides-md-scroll="4" data-slides-tablet="3" data-slides-tablet-scroll="3"-->
                        <!--                                     data-slides-xs="2" data-slides-xs-scroll="2" data-sm="3"-->
                        <!--                                     data-xs="2" id="result-pd-seen"></div>-->
                        <!--                            </div>-->
                        <!--                        </div>-->
                    </div>
                    <div class="col-xs-12 col-lg-3 col-md-4 col-sm-5 mg-top-15 pd-right-0">
                        <div class="bg-while sidebar-checkout">
                            <div class="sidebar-order-wrap">
                                <div class="order_title">
                                    <h4>Thông tin đơn hàng</h4>
                                </div>
                                <div class="order_total">
                                    <p>
                                        Tổng tiền:
                                        <span id="total-price" th:text="${#numbers.formatDecimal(session?.finalTotalPrice, 1, 0) + ' VND'}">0₫</span>
                                    </p>
                                </div>
                                <div class="order_text">
                                    <p></p>
                                </div>
                                <div class="checkout-buttons clearfix">
                                    <label class="note-label" for="note">Ghi chú đơn hàng</label>
                                    <textarea class="form-control" id="note" name="note" placeholder="Ghi chú"
                                              rows="4"></textarea>
                                    <input class="form-control dt-width-100 mg-top-10" id="code-discont"
                                           placeholder="Nhập mã khuyến mãi (nếu có)"/>
                                </div>
                                <div class="order_action">
                                    <a class="btncart-checkout text-center" th:href="@{/payment/checkout}">
                                        THANH TOÁN NGAY
                                    </a>
                                    <p class="link-continue text-center">
                                        <a href="/collections/all">
                                            <i class="fa fa-reply"></i> Tiếp tục mua hàng
                                        </a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </section>
</main>


<!-- Footer Section Begin -->
<th:block th:replace="~{fragments/footer :: footer}"></th:block>
<!-- Footer Section End -->


<div class="modal" id="pro-qv-wanda"></div>
<div id="pro-quickview-mobile"></div>
<div class="modal" id="modal-subscribe">
    <div class="modal-wp-ct">
        <div class="tt-md-ct">Đăng ký nhận khuyến mãi</div>
        <div class="message-md-ct">
            <div class="content-md-ct">
                Chúng tôi sẽ cập nhật các chương trình khuyến mãi mới nhất đến bạn.
            </div>
            <ul class="list-md-contact">
                <li>Giảm giá sản phẩm</li>
                <li>Mã coupon chỉ dành riêng cho bạn</li>
                <li>Ưu đãi tặng sản phẩm đi kèm</li>
            </ul>
        </div>
        <form accept-charset="UTF-8" action="/account/contact" class="contact-form" method="post">
            <input name="form_type" type="hidden" value="customer"/>
            <input name="utf8" type="hidden" value="✓"/>
            <div class="form-group mb-0">
                <input id="contact_tags" name="contact[tags]" type="hidden"
                       value="khách hàng tiềm năng-https://wd-smart.myharavan.com/cart"/>
                <input id="contact_email" name="contact[email]" placeholder="Email" required="required"
                       type="email"/>
            </div>
            <button class="btn" type="submit">Đăng ký</button>

            <input id="30a78f44ede645f090105e9866a73f43" name="g-recaptcha-response"
                   type="hidden"/>
            <!--<script src='https://www.google.com/recaptcha/api.js?render=6LdD18MUAAAAAHqKl3Avv8W-tREL6LangePxQLM-'></script>-->
            <!--<script>grecaptcha.ready(function() {grecaptcha.execute('6LdD18MUAAAAAHqKl3Avv8W-tREL6LangePxQLM-', {action: 'submit'}).then(function(token) {document.getElementById('30a78f44ede645f090105e9866a73f43').value = token;});});</script>-->
        </form>
    </div>
</div>
<div class="modal" id="success-subcribe-wanda">
    <div class="row">
        <div class="modal-content">
            <div class="modal-icon sweet-alert">
                <div class="sa-icon sa-success animate">
                    <span class="sa-line sa-tip animateSuccessTip"></span>
                    <span class="sa-line sa-long animateSuccessLong"></span>
                    <div class="sa-placeholder"></div>
                    <div class="sa-fix"></div>
                </div>
            </div>
            <div class="modal-body text-center">
                <p class="modal-title">
                    Đăng ký thành công.<br/>Thông báo sẽ tự động tắt sau 2 giây
                </p>
            </div>
        </div>
    </div>
</div>
<div id="success-add-cart-mobile">
    <div class="head-group">
        <div class="modal-title d-flex d-flex-center">
            <img alt="Success" height="16"
                 src="https://file.hstatic.net/200000525917/file/check_fed1ae0ce277470eb827c4d6f3ac8ddf.png"
                 width="16"/>
            <span>Thêm vào giỏ hàng thành công</span>
        </div>
        <button class="close-success" type="button"><span>×</span></button>
    </div>
    <div class="row">
        <div class="d-flex col-xs-12 col-sm-12" id="form-ss">
            <div class="top-body"></div>
            <div class="ft-body col-xs-12">
                <div class="d-flex js-between total-cart-mb">
                    <a href="/cart"> Giỏ hàng:</a>
                    <div class="text-right">
                        <span class="price"></span>
                        <div class="count">
                            (<span class="cart-popup-count"></span>) sản phẩm
                        </div>
                    </div>
                </div>
                <div class="action-btn d-flex js-between">
                    <a class="btn btn-cart" href="/cart">Xem giỏ hàng</a>
                    <a class="btn btn-checkout" href="/checkout">Thanh toán</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal-backdrop fade js-backdrop"></div>
<div class="suggest-notify anislideOutDown sales_animated"></div>
<!-- Đây là suggest sale popup -->
<div class="navigation-mobile visible-xs visible-sm">
    <ul class="d-flex">
        <li class="item">
            <a class="d-flex item-link" href="/">
                    <span>
                        <img alt="Trang chủ" class="first-change" height="24"
                             src="https://file.hstatic.net/200000713019/file/home_027cdf38e9384ddb81f453ba516c2500.png"
                             width="24"/>
                        <img alt="Trang chủ" class="after-change" height="24"
                             src="https://file.hstatic.net/200000713019/file/home-active_7501f572b3324f58afa2f885c97b8701.png"
                             width="24"/>
                    </span>
                <span>Trang chủ</span>
            </a>
        </li>
        <li class="item navigation-event">
            <a class="d-flex" href="javascript:void(0)">
                    <span>
                        <img alt="Danh mục" class="first-change" height="24"
                             src="https://file.hstatic.net/200000713019/file/category_074fc86572ed4d389692f7bc5fb8d32f.png"
                             width="24"/>
                        <img alt="Danh mục" class="after-change" height="24"
                             src="https://file.hstatic.net/200000713019/file/category-active_3573358a277b44f0ae626afddf4633f0.png"
                             width="24"/>
                    </span>
                <span>Danh mục</span>
            </a>
        </li>
        <li class="item">
            <a class="d-flex item-link" href="/pages/he-thong-cua-hang">
                    <span>
                        <img alt="Cửa hàng" class="first-change" height="24"
                             src="https://file.hstatic.net/200000713019/file/location_7e8df8606c6647e9a0da6b893875d98e.png"
                             width="24"/>
                        <img alt="Cửa hàng" class="after-change" height="24"
                             src="https://file.hstatic.net/200000713019/file/location-acitve_71d06ddc84ea4e4c92843319f186ab63.png"
                             width="24"/>
                    </span>
                <span>Cửa hàng</span>
            </a>
        </li>
        <li class="item">
            <a class="d-flex item-link" href="tel:0967671065">
                    <span>
                        <img alt="Hotline" class="first-change" height="24"
                             src="https://file.hstatic.net/200000713019/file/phone-call_f39d577fa5d249269096ffa4ae42aea3.png"
                             width="24"/>
                        <img alt="Hotline" class="after-change" height="24"
                             src="https://file.hstatic.net/200000713019/file/phone-call-active_eba163bb67564d139050bfd7ea6578c5.png"
                             width="24"/>
                    </span>
                <span>Hotline</span>
            </a>
        </li>
    </ul>
</div>
<div class="visible-xs visible-sm" id="navigation-mobile">
    <nav class="category-mobie"></nav>
</div>

<script th:src="@{/js/notify.js}"></script>

<script defer src="//theme.hstatic.net/200000713019/1001049223/14/pluginscript.js?v=1496"
        type="text/javascript"></script>
<script defer src="//theme.hstatic.net/200000713019/1001049223/14/main-scripts.js?v=1496"
        type="text/javascript"></script>
<script defer src="//theme.hstatic.net/200000713019/1001049223/14/main-cart.js?v=1496"
        type="text/javascript"></script>
<script defer src="//theme.hstatic.net/200000713019/1001049223/14/combo-app.js?v=1496"
        type="text/javascript"></script>

<script th:src="@{/js/handleCart.js}"></script>
<script>
    handleRemoveCartItem = (a) => {
        removeCartItem(a)
    }
    handleUpdateQuantity = (input) => {
        updateQuantity(input)
    }
    calculateTotal()
</script>

</body>

</html>